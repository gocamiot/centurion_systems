{% load get_attribute %}

<table class="min-w-full divide-y divide-gray-200 table-fixed dark:divide-gray-600">
    <thead class="bg-gray-100 dark:bg-gray-700">
      <tr>
        {% for field_name in db_field_names %}
        <th id="th_{{ field_name }}_docx_selected_export" scope="col" class="p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400">
          <div class="group flex items-center gap-2 whitespace-nowrap h-6 w-48">
            <span class="block">{{ field_name }}</span>
          </div>
        </th>
        {% endfor %}
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700">

      {% for item in items %}
      <tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
        {% for field_name in db_field_names %}
          {% if field_name in richtext_fields %}
          <td class="td_{{ field_name }} p-4 text-base font-medium text-gray-900 dark:text-white">
            <div class="prose w-96">{{ item|getrichtextattribute:field_name|safe }}</div>
          </td>
          {% elif field_name in dropdown_fields %}
          <td class="td_{{ field_name }} p-4 text-base font-medium text-gray-900 dark:text-white">
            <div class="prose w-96">{{ item|getdropdownattribute:field_name }}</div>
          </td>
          {% else %}
          <td class="td_{{ field_name }} p-2 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white">
            {{ item|getattribute:field_name|default_if_none:"" }}
          </td>
          {% endif %}
        {% endfor %}

      </tr>
      {% endfor %}

    </tbody>
</table>